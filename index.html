<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Maa Saraswati Shikshayatan</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f2f5;
    }

    header, footer {
      background: #2c3e50;
      color: white;
      text-align: center;
      padding: 20px;
    }

    nav {
      background: #34495e;
      padding: 10px;
      text-align: center;
    }

    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }

    nav a.login-button, nav a.feedback-tab {
      background: #e67e22;
      padding: 6px 12px;
      border-radius: 6px;
    }

    .section {
      padding: 40px 20px;
      max-width: 900px;
      margin: 40px auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

    #message { background: #fff5f0; }
    #admission { background: #f0f9ff; }
    #notices { background: #fffbea; }
    #feedback { background: #f9f0ff; }
    #contact { background: #f0fff5; }

    .hero {
      background: linear-gradient(135deg, #4ca1af, #2c3e50);
      color: white;
      padding: 60px 20px;
      text-align: center;
    }

    .profile-box {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 20px;
      background: #fff;
      border-radius: 10px;
      padding: 20px;
    }

    .notice-box {
      max-height: 200px;
      overflow-y: auto;
      background: #fff;
      border-radius: 10px;
      padding: 15px;
    }

    .notice {
      border-bottom: 1px solid #ccc;
      padding: 10px 0;
    }

    .notice-date {
      font-size: 12px;
      color: #888;
    }

    .gallery-container {
      position: relative;
      max-width: 900px;
      overflow: hidden;
      border-radius: 10px;
    }

    .gallery-slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .gallery-slide {
      min-width: 100%;
    }

    .gallery-slide img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      border-radius: 10px;
    }

    #feedback form input, #feedback form textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    #feedback form button {
      background: #e67e22;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
    }

    #latest-feedbacks {
      max-height: 150px;
      overflow-y: auto;
      background: #fff0f5;
      padding: 10px;
      border-radius: 10px;
    }

    @media (max-width: 600px) {
      nav {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .profile-box {
        flex-direction: column;
        align-items: flex-start;
      }

      .gallery-slide img {
        height: 200px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Maa Saraswati Shikshayatan</h1>
    <p>A Trusted Coaching Center for Academic Excellence</p>
  </header>

  <nav>
    <a href="#hero">Home</a>
    <a href="#message">Head's Message</a>
    <a href="#admission">Admission</a>
    <a href="#notices">Notices</a>
    <a href="#gallery">Gallery</a>
    <a href="#feedback" class="feedback-tab">Feedback</a>
    <a href="#contact">Contact</a>
    <a href="login.html" class="login-button">Login</a>
  </nav>

  <section class="hero" id="hero">
    <h2>Welcome to Maa Saraswati Shikshayatan</h2>
    <p>We nurture students to unlock their full potential through discipline, dedication, and quality teaching.</p>
  </section>

  <section class="section" id="message">
    <h2>Message from the Head</h2>
    <div class="profile-box">
      <img src="images/FB_IMG_1746852698228.jpg" alt="Head" style="width: 150px; height: 150px; object-fit: cover; border-radius: 10px;">
      <div>
        <p><strong>Mr. Anup Sarkar</strong> has always believed in the power of disciplined effort and personalized attention in education. Under his leadership, we continue to foster academic excellence and holistic growth.</p>
      </div>
    </div>
  </section>

  <section class="section" id="admission">
    <h2>Admission</h2>
    <div class="profile-box">
      <p>We offer classes from VI to XII with experienced faculty in Science, Arts and Commerce streams. Admissions are open throughout the year.</p>
      <ul>
        <li>Download the <a href="admission-form.html">admission form</a>.</li>
        <li>Submit scanned academic documents via email or visit us.</li>
        <li>Book a counselling slot with our academic head.</li>
      </ul>
    </div>
  </section>

  <section class="section" id="notices">
    <h2>Latest Notices</h2>
    <div class="notice-box" id="notice-list">
      <!-- Dynamic notices -->
    </div>
  </section>

  <section class="section" id="gallery">
    <h2>Photo Gallery</h2>
    <div class="gallery-container">
      <div class="gallery-slides" id="gallery-slides">
        <div class="gallery-slide"><img src="images/FB_IMG_1746683149186.jpg" alt=""></div>
        <div class="gallery-slide"><img src="images/FB_IMG_1746683658558.jpg" alt=""></div>
        <div class="gallery-slide"><img src="images/FB_IMG_1746683666926.jpg" alt=""></div>
      </div>
    </div>
  </section>

  <section class="section" id="feedback">
    <h2>Give Your Feedback</h2>
    <form onsubmit="submitFeedback(event)">
      <input type="text" id="feedback-name" placeholder="Your Name" required>
      <textarea id="feedback-text" placeholder="Your Feedback" required></textarea>
      <button type="submit">Submit</button>
    </form>
    <h3>Recent Feedbacks</h3>
    <div id="latest-feedbacks"></div>
  </section>

  <section class="section" id="contact">
    <h2>Contact Us</h2>
    <p>
      Address: <a href="https://maps.google.com/?q=Amtalighat, Kupadaha, Bamangola, Malda, 733142" target="_blank">
      Amtalighat, Kupadaha, Bamangola, Malda, 733142</a><br/>
      Phone: <a href="tel:9851123356">9851123356</a> / <a href="tel:9851615653">9851615653</a>
    </p>
  </section>

  <footer>
    <p>&copy; 2025 Maa Saraswati Shikshayatan. All Rights Reserved.</p>
  </footer>

  <script>
    // Gallery slideshow
    let galleryIndex = 0;
    const slides = document.querySelectorAll('.gallery-slide');
    const galleryTrack = document.getElementById('gallery-slides');
    setInterval(() => {
      galleryIndex = (galleryIndex + 1) % slides.length;
      galleryTrack.style.transform = `translateX(-${galleryIndex * 100}%)`;
    }, 3000);

    // Firebase setup
    const firebaseConfig = {
      apiKey: "AIzaSyDc_Uin1JqRT8fuhtPueGKa9J120sh3qt4",
      authDomain: "masaraswatishikshyatan.firebaseapp.com",
      databaseURL: "https://masaraswatishikshyatan-default-rtdb.firebaseio.com",
      projectId: "masaraswatishikshyatan",
      storageBucket: "masaraswatishikshyatan.appspot.com",
      messagingSenderId: "1086364385293",
      appId: "1:1086364385293:web:91e762be2245715e26d544"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Load notices
    db.ref('notices').orderByChild('timestamp').on('value', snapshot => {
      const noticeList = document.getElementById('notice-list');
      noticeList.innerHTML = '';
      snapshot.forEach(child => {
        const data = child.val();
        const div = document.createElement('div');
        div.classList.add('notice');
        div.innerHTML = `<p>${data.text}</p><div class="notice-date">${new Date(data.timestamp).toLocaleDateString()}</div>`;
        noticeList.prepend(div);
      });
    });

    // Feedback functions
    function submitFeedback(e) {
      e.preventDefault();
      const name = document.getElementById("feedback-name").value;
      const text = document.getElementById("feedback-text").value;
      if (!name || !text) return alert("Please fill out both fields.");
      db.ref("feedbacks").push({ name, text, timestamp: Date.now() }).then(() => {
        document.getElementById("feedback-name").value = '';
        document.getElementById("feedback-text").value = '';
      });
    }

    db.ref("feedbacks").orderByChild("timestamp").limitToLast(3).on("value", snap => {
      const container = document.getElementById("latest-feedbacks");
      container.innerHTML = "";
      const data = [];
      snap.forEach(child => data.push(child.val()));
      data.reverse().forEach(fb => {
        const div = document.createElement("div");
        div.innerHTML = `<strong>${fb.name}</strong><p>${fb.text}</p>`;
        container.appendChild(div);
      });
    });
  </script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</body>
</html>
